<div class="side-by-side-plotly">
    <div class="plotly-container">
        {% include {{ include.plotly1 }} %}
    </div>
    <div class="plotly-container">
        {% include {{ include.plotly2 }} %}
    </div>
</div>

<style>
    .side-by-side-plotly {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between; /* Added to space out the plotly containers */
    }

    .side-by-side-plotly .plotly-container {
        flex: 1;
        max-width: 48%; /* Adjusted to fit two containers side by side within 100% width */
        box-sizing: border-box;
        padding: 10px;
    }

    .side-by-side-plotly .plotly-container > div {
        width: 100%;
        height: auto; /* Ensure the height adjusts based on content */
    }

    @media (max-width: 600px) {
        .side-by-side-plotly {
            flex-direction: column;
        }

        .side-by-side-plotly .plotly-container {
            min-width: 100%;
            max-width: 100%; /* Ensure full width on smaller screens */
        }
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Trigger resize event on window to force Plotly to resize plots
        window.dispatchEvent(new Event('resize'));
    });

    // Optional: If Plotly plots are created dynamically, use this function to resize them
    function resizePlots() {
        var plotlyDivs = document.querySelectorAll('.plotly-container > div');
        plotlyDivs.forEach(function(plotlyDiv) {
            Plotly.Plots.resize(plotlyDiv);
        });
    }

    // Call resizePlots after a short delay to ensure plots are rendered
    setTimeout(resizePlots, 500);
</script>
